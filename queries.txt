** Запрос выводит информацию о звонках(дата и время принятия, тема, команда оператора, id клиента)
** по заданному временному отрезку(в данном случае это от 19-10-2004 до 23-10-2004)

SELECT dt.date_time_accept, inf.id_client, op.operator_team, rec.topic
FROM date_time dt 
LEFT JOIN information inf ON dt.id_date_time = inf.id_information 
LEFT JOIN operator op ON op.id_operator = inf.id_operator
LEFT JOIN record rec ON rec.id_information = inf.id_information
WHERE date_time_accept > date '19-10-2004' AND date_time_accept < date '23-10-2004';

** Запрос выводит информацию о звонках(дата и время принятия, тема, команда оператора, id клиента)
** по команде оператора(в данном случае это "2")

SELECT dt.date_time_accept, inf.id_client, op.operator_team, rec.topic
FROM operator op 
LEFT JOIN information inf ON op.id_operator = inf.id_operator 
LEFT JOIN date_time dt ON dt.id_date_time = inf.id_date_time
LEFT JOIN record rec ON rec.id_information = inf.id_information
WHERE operator_team = '2';

** Запрос выводит информацию о звонках(дата и время принятия, тема, команда оператора, id клиента)
** по номеру клиента(в данном случае это 89329)

SELECT dt.date_time_accept, inf.id_client, op.operator_team, rec.topic
FROM client cl 
LEFT JOIN information inf ON cl.id_client = inf.id_client
LEFT JOIN date_time dt ON dt.id_date_time = inf.id_date_time
LEFT JOIN record rec ON rec.id_information = inf.id_information
LEFT JOIN operator op ON op.id_operator = inf.id_operator
WHERE phone_number = 89329;

** Запрос выводит информацию о звонках(дата и время принятия, тема, команда оператора, id клиента)
** по теме звонка(в данном случае это 'жалоба')

SELECT dt.date_time_accept, inf.id_client, op.operator_team, rec.topic
FROM record rec 
LEFT JOIN information inf ON rec.id_information = inf.id_information
LEFT JOIN date_time dt ON dt.id_date_time = inf.id_date_time
LEFT JOIN operator op ON op.id_operator = inf.id_operator
WHERE topic = 'жалоба';

** Запрос выводит информацию о звонке(id звонка, оценка контролера, оценка системы)
** где эти оценки отличаются на k(в данном случае 1)

SELECT rec.id_record, mi.mark_inspector, ms.mark_system
FROM mark mk
LEFT JOIN mark_inspector mi ON mi.id_mark_inspector = mk.id_mark_inspector
LEFT JOIN mark_system ms ON ms.id_mark_system = mk.id_mark_system
LEFT JOIN record rec ON rec.id_mark = mk.id_mark
WHERE abs(ms.mark_system - mi.mark_inspector) = 1;

** Запрос выводит выборку оценок котролера(id контролера, имя, дата и время оценки, комментарий, оценка)
** по его id

SELECT it.id_inspector, it.name, mi.date_time_mark_inspector, mi.comment, mi.mark_inspector
FROM mark_inspector mi
LEFT JOIN inspector it ON it.id_inspector = mi.id_inspector
WHERE mi.id_mark_inspector = 3;

** Запрос выводит список клиентов в черном списке(id клиента, номер телефона)

SELECT cl.id_client, cl.phone_number
FROM client cl
WHERE cl.blacklist = 1;
